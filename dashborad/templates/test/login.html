<!DOCTYPE html>
<html lang="en">
<head>
    <script src="https://cdn.bootcss.com/jquery/2.1.4/jquery.min.js"></script>
    <link rel="stylesheet" href="https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <meta charset="UTF-8">
    <title>{{ title }}</title>
</head>
<body>
    <div  class="container">
<h1>用户登录</h1>
<ul>
    <form action="/dashborad/login/", method="POST" id="login_form">
        <li><input type="text" name="username" id="username"></li>
        <li><input type="password" name="password" id="password"></li>
        <li><input type="submit" value="submit" id="form_submit"></li>
    </form>
</ul>
<script>

    $('#loginform').on('submit', function () {
        var str = $('#loginform').serialize()
        $.post('#', str, function (res) {
            console.log(res)
            if (res.status == 0) {
               alert("登陆成功")
              location.href=res.next_url
            } else {
                swal({
                    title: res.errmsg,
                    type: "error",
                    confirmButtonText: "知道了"
                }, function () {
                    $("#username").val("")
                    $("#password").val("")
                });

            }
        });
        return false;

    })

    <!--$(function(){-->
        <!--$('#form_submit').on('click', function(){-->
            <!--&lt;!&ndash;var username = $('#username').val()&ndash;&gt;-->
            <!--&lt;!&ndash;var password = $('#password').val()&ndash;&gt;-->
            <!--var str = $('#login_form').serialize()-->
            <!--console.log(str)-->
            <!--$.post('#', function(res){-->
                <!--if res.status == 0{-->
                    <!--<div class="alert alert-success" role="alert">登录OK</div>-->
                <!--}else{-->
                    <!--<div class="alert alert-warning" role="alert">登录filed</div>-->
                <!--},function(){-->
                    <!--$('#username').val('')-->
                    <!--$('#password').val('')-->
                <!--}-->
                <!---->
            <!--})-->
            <!--&lt;!&ndash;console.log(password)&ndash;&gt;-->
            <!--&lt;!&ndash;$.post("dashborad/login/", { username: username, password:password },&ndash;&gt;-->
            <!--&lt;!&ndash;function(data){&ndash;&gt;-->
            <!--&lt;!&ndash;alert("Data Loaded: " + data);&ndash;&gt;-->
            <!--&lt;!&ndash;})&ndash;&gt;-->
            <!--&lt;!&ndash;return false&ndash;&gt;-->
        <!--})-->
    <!--})-->
</script>
</div>
</body>
</html>
